# Add semantic search to your application

You now know everything you need to add full-text search capabilities to your application.

Open up the code from the server file `server/controllers/books.ts` once more, and edit the `vectorSearch` method to query your data for semantic search.

:::tip
Use the `getEmbeddings` function to convert the query into a vector.
:::

<details>
<summary>Answer</summary>
<div>

```js
  const vector = await getEmbeddings(query);
  const aggregationPipeline = [
      {
          $search: {
              index: "vectorsearch",
              knnBeta: {
                  vector,
                  path: "vectorizedSynopsis",
                  k: 20
              }
          }
      }
  ];
  const books = await collections?.books?.aggregate(aggregationPipeline).toArray() as Book[];
  return books;

```
</div>
</details>